syntax = "proto3";

package chitchat;

option go_package = "/grpc";

service ChitChatService {
  rpc ChatStream(stream ClientMessage) returns (stream ServerMessage);
}

message ClientMessage {
  oneof event {
    JoinRequest join_request = 1;
    PublishRequest publish_request = 2;
  }
}

message ServerMessage {
  int64 lamport_timestamp = 1;
  string content = 2;
}

message JoinRequest {
  string name = 1;
}

message PublishRequest {
  string content = 1;
}